(this.webpackJsonpfeud=this.webpackJsonpfeud||[]).push([[0],{54:function(e,t,n){},55:function(e,t,n){},63:function(e,t){},65:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=65},72:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),s=n.n(r),o=n(33),a=n.n(o),i=(n(54),n(15)),u=n(17),j=n(27),l=n(8),b=(n(55),n(39)),h=n(2),f=n(42),d=n(24),p=n.n(d),O=["0581a92a","b70d9088","07751480","8fea7942","1732290d","ab55a518","ac364672","9fe2da3e","b7fd335a","f5c48047","9876fa5a","a5f5e4ff","cc880b12","0f7ad380","7136676e","27a28b35","bcea31bf","a432b34d","6322b623","97f168b3","aaa168b3"],m=function(e){return O[e]},x=[{help:"Practice question (no points)",content:"What's your favorite color?",practice:!0},{help:"",content:"Name a nice city:"},{help:"",content:"Name programming language that isn't C#:"},{help:"yes or no",content:"Was Napoleon a short man?"},{help:"",content:"What's the best football team in the world?"},{help:"Fill in the missing adjective",content:"C++ is a _____ programming language"},{help:"yes or no",content:"Are we descended from chimpanzees?"},{help:"Fill in the missing adjective",content:"Pineapple is _____ on pizza"},{help:"yes or no",content:"Can you see the great wall of China from space?"},{help:"Fill in the missing adjective",content:"Sweden is a _____ country"},{help:"yes or no",content:"Is one side of the moon always dark?"},{help:"Fill in the missing adjective",content:"Norway is a _____ country"},{help:"Fill in the missing adjective",content:'"Power" is a _____ electronics store'},{help:"",content:"What's the best x-mas movie?"},{help:"",content:"What do you wish for this x-mas?"}];var g=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(b.a,{children:Object(c.jsxs)(h.c,{children:[Object(c.jsx)(h.a,{path:"/present",component:v}),Object(c.jsx)(h.a,{component:y})]})})})};function v(){var e=Object(r.useState)({}),t=Object(l.a)(e,2),n=t[0],s=t[1],o=Object(r.useState)(""),a=Object(l.a)(o,2),b=a[0],h=a[1],f=Object(r.useState)([]),d=Object(l.a)(f,2),O=d[0],m=d[1];Object(r.useEffect)((function(){var e=new p.a;return e.on("open",(function(t){h(t),e.on("connection",(function(e){m((function(t){return[].concat(Object(j.a)(t),[e])})),e.on("open",(function(t){e.on("data",(function(e){console.log(e),s((function(t){var n=e.payload.questionNr,c={username:e.username,answer:e.payload.answer,questionNr:e.payload.questionNr};return t[n]?Object(u.a)(Object(u.a)({},t),{},Object(i.a)({},n,[].concat(Object(j.a)(t[n]),[c]))):Object(u.a)(Object(u.a)({},t),{},Object(i.a)({},n,[c]))}))})),e.on("error",(function(e){console.log(e)}))}))})),e.on("error",(function(e){console.log(e)}))})),function(){}}),[s,h,m]);var g=Object.keys(n).map((function(e){return n[e]}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Presentation"}),Object(c.jsx)("p",{children:b}),Object(c.jsx)("button",{className:"pushy__btn pushy__btn--green",onClick:function(){var e={type:"next"};O.forEach((function(t){t.send(e)}))},children:"Next question"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"pushy__btn pushy__btn--green",onClick:function(){var e={type:"results",payload:Object.keys(n).map((function(e){return n[e]}))};O.forEach((function(t){t.send(e)}))},children:"Push results"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"pushy__btn pushy__btn--green",onClick:function(){var e={type:"endgame",payload:Object.keys(n).map((function(e){return n[e]}))};O.forEach((function(t){t.send(e)}))},children:"End game"}),Object(c.jsx)("br",{}),g.map((function(e,t){return Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("h5",{children:x[t].content}),e.map((function(e){return Object(c.jsxs)("p",{children:[e.username," - ",e.answer]},e.username+"presmap")}))]},t+""+Math.random())}))]})}function y(){var e=Object(r.useState)(localStorage.getItem("fika_game_code")),t=Object(l.a)(e,2),n=t[0],s=t[1],o=Object(r.useState)(localStorage.getItem("fika_name")),a=Object(l.a)(o,2),i=a[0],u=a[1],j=Object(r.useState)(null),b=Object(l.a)(j,2),f=b[0],d=b[1];Object(r.useEffect)((function(){if(n){var e=new p.a;return e.on("open",(function(t){var c=e.connect(n);c.on("open",(function(){d(c)}))})),function(){}}}),[n,d]);var O=Object(r.useRef)(null),m=Object(r.useRef)(null),x=Object(h.f)();return f?Object(c.jsxs)(h.c,{children:[Object(c.jsx)(h.a,{path:"/question/:questionId",render:function(e){return Object(c.jsx)(w,{connection:f,username:i})}}),Object(c.jsx)(h.a,{component:_})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Fredagsfika!"}),Object(c.jsx)("br",{}),Object(c.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),"present123"!==O.current.value){if(O&&m){var t=O.current.value,n=m.current.value;localStorage.setItem("fika_game_code",t),localStorage.setItem("fika_name",n),s(t),u(n)}}else x.push("/present")},children:[Object(c.jsxs)("div",{style:{textAlign:"right",width:"17em",paddingRight:"4.5em",margin:"auto"},children:["Game code ",Object(c.jsx)("input",{type:"text",ref:O})," ",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"Username ",Object(c.jsx)("input",{type:"text",ref:m})," ",Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]}),Object(c.jsx)("button",{className:"pushy__btn pushy__btn--green",type:"submit",children:"Join"}),Object(c.jsx)("br",{})]}),Object(c.jsxs)("div",{style:{paddingTop:"80px",fontSize:"1.1em"},children:[Object(c.jsx)("p",{children:"The aim of the game is to answer each question with the same answer as the rest of the group."}),Object(c.jsx)("p",{children:"For a given question, if your answer is the most common answer in the group (a plurality) you get 1 point."}),Object(c.jsx)("p",{children:"You are not allowed to discuss the question during the answering period. (30 seconds per question)"})]})]})}function _(){return Object(h.f)().push("/question/"+m(0)),Object(c.jsx)("p",{children:'"Loading..."'})}function w(e){var t,n=e.connection,s=e.username,o=Object(h.g)().questionId,a=(t=o,O.indexOf(t)),i=Object(r.useState)([]),u=Object(l.a)(i,2),j=u[0],b=u[1],f=Object(r.useState)(null),d=Object(l.a)(f,2),p=d[0],x=d[1],g=Object(h.f)();Object(r.useEffect)((function(){n.on("data",(function(e){switch(console.log("Received",e),e.type){case"next":g.push("/question/"+m(a+1));break;case"results":b(e.payload);break;case"endgame":x(e.payload)}})),n.on("error",(function(e){console.log(e)}))}));return p?Object(c.jsx)(N,{results:p}):Object(c.jsx)(k,{onAnswer:function(e){n.send({type:"answer",username:s,payload:e})},questionNr:a,results:j},a)}function k(e){var t=e.results,n=e.questionNr,s=e.onAnswer,o=Object(r.useRef)(null),a=Object(r.useState)(!1),i=Object(l.a)(a,2),u=i[0],j=i[1];return t[n]?Object(c.jsx)(q,{results:t,questionNr:n}):u?Object(c.jsxs)("h2",{children:[Object(c.jsx)("br",{}),"Answer sent! ",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"Please wait..."]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{style:{color:"rgb(61, 190, 190)",paddingTop:"100px"},children:x[n].help}),Object(c.jsx)("h1",{children:x[n].content}),Object(c.jsx)("br",{}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o.current.value.length>0&&(j(!0),s({questionNr:n,answer:o.current.value.toLowerCase()}))},children:[Object(c.jsx)("input",{type:"text",ref:o,placeholder:"Answer"})," ",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"pushy__btn pushy__btn--green",type:"submit",children:"Submit"})]})]})}function q(e){var t=e.results,n=e.questionNr;if(!t[n])return null;var r=t[n],s=[],o={};return r.forEach((function(e){o[e.username]=e.answer;var t=s.find((function(t){return t.text.toLowerCase()===e.answer}));t?t.value+=1:s.push({text:e.answer.toLowerCase(),value:1})})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:x[n].content}),Object(c.jsx)("h2",{children:"Results"}),Object(c.jsx)(f.a,{options:{deterministic:!0,fontSizes:[44,70]},words:s}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{children:Object.keys(o).map((function(e){return Object(c.jsxs)("p",{children:[e," - ",o[e]]},e+"useranswer")}))})]})}function N(e){var t=e.results,n={};t.forEach((function(e){e.forEach((function(e){n[e.username]=0}))})),t.forEach((function(e){var t=[];e.forEach((function(e){var n=t.find((function(t){return t.text.toLowerCase()===e.answer}));n?n.value+=1:t.push({text:e.answer.toLowerCase(),value:1})}));var c=t.reduce((function(e,t){return e.value>t.value?e:t}));t.filter((function(e){return e.value===c.value})).forEach((function(t){e.filter((function(e){return e.answer.toLowerCase()===t.text.toLowerCase()})).forEach((function(e){x[e.questionNr].practice||n[e.username]++}))}))}));var r=Object.keys(n).map((function(e){return{name:e,points:n[e]}})).sort((function(e,t){return t.points-e.points}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("img",{alt:"b",src:"https://media3.giphy.com/media/QMkPpxPDYY0fu/giphy.gif?cid=ecf05e47iu1o394khd8975uaxekfw1pmouqlvsfadgdcqz9m&rid=giphy.gif"}),Object(c.jsx)("h1",{style:{color:"rgb(168, 240, 24)"},children:"Final results"}),Object(c.jsx)("div",{style:{width:"40%",margin:"auto"},children:Object(c.jsx)("ol",{children:r.map((function(e,t){return Object(c.jsx)("li",{children:Object(c.jsxs)("h2",{children:[e.name,"  -  ",e.points," pts"]})},e.name+"points")}))})})]})}var S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),s(e),o(e)}))},C=n(41),F=n.n(C);a.a.render(Object(c.jsxs)(s.a.StrictMode,{children:[Object(c.jsx)(F.a,{}),Object(c.jsx)(g,{})]}),document.getElementById("root")),S()}},[[72,1,2]]]);
//# sourceMappingURL=main.61c2c0de.chunk.js.map