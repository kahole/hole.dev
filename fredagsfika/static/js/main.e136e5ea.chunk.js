(this.webpackJsonpfeud=this.webpackJsonpfeud||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){},60:function(e,t){},62:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=62},67:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),s=n.n(c),o=n(31),a=n.n(o),u=(n(51),n(15)),i=n(17),j=n(27),b=n(8),l=(n(52),n(39)),f=n(24),O=n.n(f),d=n(37),h=n(2),p=["Name a city:","Name a programming language that isn't C#:","Name the world's best football team:","Are we descendants of chimpanzees?","Can sharks get cancer?","C++ is a _____ programming language","Planet9 is a _____ platform","Sweden is a _____ country","Norway is a _____ country"];var x=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(d.a,{children:Object(r.jsxs)(h.c,{children:[Object(r.jsx)(h.a,{path:"/present",component:m}),Object(r.jsx)(h.a,{component:v})]})})})};function m(){var e=Object(c.useState)({}),t=Object(b.a)(e,2),n=t[0],s=t[1],o=Object(c.useState)(""),a=Object(b.a)(o,2),l=a[0],f=a[1],d=Object(c.useState)([]),h=Object(b.a)(d,2),x=h[0],m=h[1];Object(c.useEffect)((function(){var e=new O.a;return e.on("open",(function(t){f(t),e.on("connection",(function(e){m((function(t){return[].concat(Object(j.a)(t),[e])})),e.on("open",(function(t){e.on("data",(function(e){console.log(e),s((function(t){var n=e.payload.questionNr,r={username:e.username,answer:e.payload.answer,questionNr:e.payload.questionNr};return t[n]?Object(i.a)(Object(i.a)({},t),{},Object(u.a)({},n,[].concat(Object(j.a)(t[n]),[r]))):Object(i.a)(Object(i.a)({},t),{},Object(u.a)({},n,[r]))}))})),e.on("error",(function(e){console.log(e)}))}))})),e.on("error",(function(e){console.log(e)}))})),function(){}}),[s,f,m]);var v=Object.keys(n).map((function(e){return n[e]}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Presentation"}),Object(r.jsx)("p",{children:l}),Object(r.jsx)("button",{onClick:function(){var e={type:"next"};x.forEach((function(t){t.send(e)}))},children:"Next question"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:function(){var e={type:"results",payload:Object.keys(n).map((function(e){return n[e]}))};x.forEach((function(t){t.send(e)}))},children:"Push results"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:function(){var e={type:"endgame",payload:Object.keys(n).map((function(e){return n[e]}))};x.forEach((function(t){t.send(e)}))},children:"End game"}),Object(r.jsx)("br",{}),v.map((function(e,t){return Object(r.jsxs)("div",{children:[Object(r.jsx)("br",{}),Object(r.jsx)("h5",{children:p[t]}),e.map((function(e){return Object(r.jsxs)("p",{children:[e.username," - ",e.answer]},e.username+"presmap")}))]},t+""+Math.random())}))]})}function v(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),n=t[0],s=t[1],o=Object(c.useState)(""),a=Object(b.a)(o,2),u=a[0],i=a[1],j=Object(c.useState)(null),l=Object(b.a)(j,2),f=l[0],d=l[1];Object(c.useEffect)((function(){if(n){var e=new O.a;return e.on("open",(function(t){var r=e.connect(n);r.on("open",(function(){d(r)}))})),function(){}}}),[n,d]);var p=Object(c.useRef)(null),x=Object(c.useRef)(null),m=Object(h.f)();return f?Object(r.jsxs)(h.c,{children:[Object(r.jsx)(h.a,{path:"/question/:questionNr",render:function(e){return Object(r.jsx)(w,{connection:f,username:u})}}),Object(r.jsx)(h.a,{component:g})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Fredagsfika!"}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"present123"!==p.current.value?(s(p.current.value),i(x.current.value)):m.push("/present")},children:["Game code ",Object(r.jsx)("input",{type:"text",ref:p})," ",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"Name\xa0\xa0\xa0\xa0\xa0 ",Object(r.jsx)("input",{type:"text",ref:x})," ",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{type:"submit",children:"Join"}),Object(r.jsx)("br",{})]}),Object(r.jsxs)("div",{style:{paddingTop:"100px",fontSize:"22px"},children:[Object(r.jsx)("p",{children:"The aim of the game is to answer each question with the same answer as the rest of the group."}),Object(r.jsx)("p",{children:"For a given question, if your answer is the most common answer in the group (a plurality) you get 1 point."}),Object(r.jsx)("p",{children:"You are not allowed to discuss the question during the answering period. (30 seconds per question)"})]})]})}function g(){return Object(h.f)().push("/question/0"),Object(r.jsx)("p",{children:'"Loading..."'})}function w(e){var t=e.connection,n=e.username,s=Object(h.g)().questionNr,o=Object(h.f)(),a=Object(c.useState)([]),u=Object(b.a)(a,2),i=u[0],j=u[1],l=Object(c.useState)(null),f=Object(b.a)(l,2),O=f[0],d=f[1];Object(c.useEffect)((function(){t.on("data",(function(e){switch(console.log("Received",e),e.type){case"next":o.push("/question/"+(parseInt(s)+1));break;case"results":j(e.payload);break;case"endgame":d(e.payload)}})),t.on("error",(function(e){console.log(e)}))}));return O?Object(r.jsx)(q,{results:O}):Object(r.jsx)(y,{onAnswer:function(e){t.send({type:"answer",username:n,payload:e})},questionNr:s,results:i},s)}function y(e){var t=e.results,n=e.questionNr,s=e.onAnswer,o=Object(c.useRef)(null),a=Object(c.useState)(!1),u=Object(b.a)(a,2),i=u[0],j=u[1];return t[n]?Object(r.jsx)(_,{results:t,questionNr:n}):i?Object(r.jsxs)("h1",{children:["Answer sent! ",Object(r.jsx)("br",{}),"Please wait..."]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:p[n]}),Object(r.jsx)("br",{}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(!0),s({questionNr:n,answer:o.current.value.toLowerCase()})},children:[Object(r.jsx)("input",{type:"text",ref:o})," ",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{type:"submit",children:"Answer"})]})]})}function _(e){var t=e.results,n=e.questionNr;if(!t[n])return null;var c=t[n],s=[],o={};return c.forEach((function(e){o[e.username]=e.answer;var t=s.find((function(t){return t.text.toLowerCase()===e.answer}));t?t.value+=1:s.push({text:e.answer.toLowerCase(),value:1})})),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:p[n]}),Object(r.jsx)("h2",{children:"Results"}),Object(r.jsx)(l.a,{options:{deterministic:!0,fontSizes:[44,70]},words:s}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{children:Object.keys(o).map((function(e){return Object(r.jsxs)("p",{children:[e," - ",o[e]]},e+"useranswer")}))})]})}function q(e){var t=e.results,n={};t.forEach((function(e){e.forEach((function(e){n[e.username]=0}))})),t.forEach((function(e){var t=[];e.forEach((function(e){var n=t.find((function(t){return t.text.toLowerCase()===e.answer}));n?n.value+=1:t.push({text:e.answer.toLowerCase(),value:1})}));var r=t.reduce((function(e,t){return e.value>t.value?e:t}));t.filter((function(e){return e.value===r.value})).forEach((function(t){e.filter((function(e){return e.answer.toLowerCase()===t.text.toLowerCase()})).forEach((function(e){n[e.username]++}))}))}));var c=Object.keys(n).map((function(e){return{name:e,points:n[e]}})).sort((function(e,t){return t.points-e.points}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Final results"}),Object(r.jsxs)("div",{style:{width:"40%",margin:"auto"},children:[Object(r.jsx)("ol",{children:c.map((function(e,t){return Object(r.jsx)("li",{children:Object(r.jsxs)("h2",{children:[e.name,"  -  ",e.points," pts"]})},e.name+"points")}))}),Object(r.jsx)("img",{src:"https://media3.giphy.com/media/QMkPpxPDYY0fu/giphy.gif?cid=ecf05e47iu1o394khd8975uaxekfw1pmouqlvsfadgdcqz9m&rid=giphy.gif"})]})]})}var N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),s(e),o(e)}))};a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(x,{})}),document.getElementById("root")),N()}},[[67,1,2]]]);
//# sourceMappingURL=main.e136e5ea.chunk.js.map